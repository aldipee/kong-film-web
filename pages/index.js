import { useState } from 'react';
import Head from 'next/head';
import Image from 'next/image';
import Container from '@material-ui/core/Container';
import useScrollTrigger from '@material-ui/core/useScrollTrigger';
import MovieItem from '../src/components/MovieItem';
import HeroBanner from '../src/components/Banner';
import Header from '../src/components/Header';
import SearchDialog from '../src/components/SearchDialog';
import styles from '../styles/Home.module.css';

const sections = [
  { title: 'Box Office', url: '#' },
  { title: 'Series TV', url: '#' },
  { title: 'Animation', url: '#' },
  { title: 'Genre', url: '#' },
  { title: 'Years', url: '#' },
];

const Footer = () => (
  <footer className={styles.footer}>
    <a
      href='https://vercel.com?utm_source=create-next-app&utm_medium=default-template&utm_campaign=create-next-app'
      target='_blank'
      rel='noopener noreferrer'
    >
      Powered by{' '}
      <span className={styles.logo}>
        <Image src='/vercel.svg' alt='Vercel Logo' width={72} height={16} />
      </span>
    </a>
  </footer>
);

export default function Home() {
  const [isSearchModalVisible, setIsSearchModalVisible] = useState(false);

  const handleClickSearch = () => {
    setIsSearchModalVisible(!isSearchModalVisible);
  };
  const handleClose = () => {
    setIsSearchModalVisible(!isSearchModalVisible);
  };
  const trigger = useScrollTrigger({ threshold: 500 });
  return (
    <>
      <Head>
        <title>Create Next App</title>
        <meta name='description' content='Generated by create next app' />
        <link rel='icon' href='/favicon.ico' />
      </Head>
      <Header sections={sections} onClickSearch={handleClickSearch} position={'sticky'} />
      <Container style={{ maxWidth: '100%' }} className='banner-hero' fixed>
        <HeroBanner />
        <SearchDialog isVisible={isSearchModalVisible} handleClose={handleClose} />
      </Container>
      <div id='home'>
        <Container style={{ maxWidth: 1080 }} fixed>
          <MovieItem />
          <Footer />
        </Container>
      </div>
    </>
  );
}
